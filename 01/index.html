<!DOCTYPE html>
<html lang="ru">
<head>
	<title>СУБД. Лекция 1</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="generator" content="Hugo 0.120.4">
	
	<link rel="icon" href="../common/lecture.png" />
	
	<link rel="stylesheet" href="../shower/themes/ribbon/styles/screen-16x10.css">
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="../highlight.js/styles/idea.min.css">
</head>
<body class="shower list no-math">
	<header class="caption">
		<h1>СУБД. Лекция 1</h1>
	</header>
	
<section class="slide white" style="padding: 0" id="cover">
    <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="-10 -10 895 645"
            width="100%"
            height="100%"
            style="background-image: url(../park.mail.ru/img/back.png)"
            version="1.1">
        <image
                xlink:href="../park.mail.ru/img/blocks.svg"
                width="718"
                height="548"
                preserveAspectRatio="none"
                x="157"
                y="67"/>
		<image
                xlink:href="../park.mail.ru/img/logo.svg"
                width="297"
                height="130"
                preserveAspectRatio="none"
                x="0"
                y="0"/>
        <g style="font-family: 'PF Isotext Pro', sans-serif; font-size: 32px; font-stretch: semi-condensed">
            <foreignObject x="177" y="204" width="514" height="202">
                <div xmlns="http://www.w3.org/1999/xhtml"
                     style="height: 100%; width: 100%; display: table; text-align: center">
                    <div style="vertical-align: middle; display: table-cell; padding-bottom: 20px; font-weight: bold">
                        СУБД
                    </div>
                </div>
            </foreignObject>
            <foreignObject x="534" y="534" width="326" height="65">
                <div xmlns="http://www.w3.org/1999/xhtml"
                     style="height: 100%; width: 100%; display: table; text-align: center; font-size: 28px">
                    <div style="vertical-align: middle; display: table-cell; font-size: 22px;">
                        Стрелков Никита
                    </div>
                </div>
            </foreignObject>
            <foreignObject x="177" y="465" width="240" height="134">
                <div xmlns="http://www.w3.org/1999/xhtml"
                     style="height: 100%; width: 100%; display: table; text-align: left">
                    <div style="vertical-align: top; display: table-cell">
                        Лекция 1
                    </div>
                </div>
            </foreignObject>
        <g>
    </svg>
</section>

	
<section class="slide">
    <h2>Знакомство</h2>
    <h3>Никита Стрелков, Senior Software Engineer в компании Exness</h3>
    <ul>
        <li>10+ лет в сфере разработки web-приложений.</li>
        <li>3 года преподаю в Технопарке.</li>
    </ul>
</section>

<section class="slide">
    <h2>Знакомство, введение в реляционные базы данных</h2>
    <ul>
        <li>Обзор курса</li>
        <li>Краткое введение в историю баз данных</li>
        <li>Введение в реляционные базы данных</li>
        <li>Реляционная алгебра</li>
        <li>Введение в SQL</li>
    </ul>
</section>

<section class="slide">
    <h2>Организационные моменты</h2>
    <ul>
        <li>Не забывайте отмечаться на лекциях!</li>
        <li>Оставляйте обратную связь по завершению лекции!</li>
    </ul>
</section>

<section class="slide">
    <h2>Правила игры</h2>
    <ul>
        <li>11 лекций по реляционным СУБД;</li>
        <li>2 лекции по NoSQL;</li>
        <li>2 РК в системе Технотест;</li>
        <li>3 оцениваемые работы по командным проектам;</li>
        <li>1 семестровый проект.</li>
    </ul>
    <p>Слайды доступны по адресу: <a href="https://mailcourses.github.io/technopark-dbms-lectures/">https://mailcourses.github.io/technopark-dbms-lectures/</a>
    </p>
</section>

<section class="slide">
    <h2>Контроль знаний</h2>
    <img alt="burn.png" src="burn.png" style="position: absolute; bottom: 50px; right: 50px; width: 320px"/>
    <figure>
        <blockquote>Экзамен ― это уникальная возможность для студента два раза в год узнать что-то полезное хотя бы на
            несколько дней.
        </blockquote>
        <figcaption>© Французский бизнесмен и творческая личность Жорж Элгози</figcaption>
    </figure>
    <ul>
        <li>Рубежные контроли;</li>
        <li>Разработка проекта;</li>
        <li>Пересдачи.</li>
    </ul>
</section>

<section class="slide">
    <h2>Интересные факты</h2>
    <ul>
        <li><img src="yahoo.png" style="float: right"/>Реляционная база данных Yahoo > 2 петабайт<sup>1</sup></li>
        <li><img src="osm.png" style="float: right"/>Архив с базой данных OpenStreetMap занимает порядка
            1.69Тб<sup>2</sup></li>
        <li>Практически ни одно приложение не обходится без БД</li>
        <li>Отсутствие готовых решений</li>
        <li>Установочные .msi файлы для Windows - это БД</li>
        <li><img src="hh.png" style="float: right"/>В большинстве вакансий разработчика упоминается SQL, по данным hh.ru
        </li>
    </ul>
    <div style="font-size: 75%">
        <div><sup>1</sup> <a href="https://habrahabr.ru/post/26289/">https://habrahabr.ru/post/26289/</a></div>
        <div><sup>2</sup> <a href="https://planet.openstreetmap.org/">https://planet.openstreetmap.org/</a></div>
    </div>
</section>

<section class="slide">
    <figure style="font-size: 150%; margin-top: 100px">
        <blockquote>Лучше спросить и выставить себя дураком на пять минут, чем не спросить и остаться дураком на всю
            жизнь.
        </blockquote>
        <figcaption>Народная мудрость</figcaption>
    </figure>
</section>

<section class="slide">
    <h2>Зачем вообще нужны СУБД?</h2>
    <p>Допустим, мы реализуем приложение "Поваренная книга" для хранения рецептов.</p>
    <ul>
        <li class="next">Восстановление после сбоев;</li>
        <li class="next">Производительность;</li>
        <li class="next">Многопользовательский доступ;</li>
        <li class="next">Резервное копирование.</li>
    </ul>
</section>

<section class="slide">
    <figure style="font-size: 150%; margin-top: 100px">
        <blockquote>Все нетривиальные абстракции дырявы.</blockquote>
        <figcaption>© Джоэл Спольски</figcaption>
    </figure>
    <footer>
        <p>Оригинал: <a href="https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/">https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/</a></p>
        <p>Перевод: <a href="http://russian.joelonsoftware.com/Articles/LeakyAbstractions.html">http://russian.joelonsoftware.com/Articles/LeakyAbstractions.html</a></p>
    </footer>
</section>

<section class="slide">
    <h2>Стоимость типовых операций</h2>
    <table style="font-size: 75%">
        <thead>
        <tr>
            <th>Стоимость операции</th>
            <th style="text-align: right">нс (ns)</th>
            <th style="text-align: right">мкс (µs)</th>
            <th style="text-align: right">мс (ms)</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Получение значения из L1</td>
            <td align="right">0.5</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Ошибка предсказания перехода в CPU</td>
            <td align="right">5</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Получение значения из L2</td>
            <td align="right">7</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Mutex lock/unlock</td>
            <td align="right">25</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Получение значения из RAM</td>
            <td align="right">100</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Сжатие 1Кб методом Zippy</td>
            <td align="right">3 000</td>
            <td align="right">3</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Отправка 1Кб через 1Гбит/сек сеть</td>
            <td align="right">10 000</td>
            <td align="right">10</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Чтение 4Кб с SSD (случайный доступ)</td>
            <td align="right">150 000</td>
            <td align="right">150</td>
            <td align="right"></td>
        </tr>
        <tr style="font-weight: bold">
            <td>Чтение 1Мб из RAM (последовательный доступ)</td>
            <td align="right">250 000</td>
            <td align="right">250</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Round trip внутри одного ДЦ</td>
            <td align="right">500 000</td>
            <td align="right">500</td>
            <td align="right"></td>
        </tr>
        <tr style="font-weight: bold">
            <td>Чтение 1Мб из SSD (последовательный доступ)</td>
            <td align="right">1 000 000</td>
            <td align="right">1 000</td>
            <td align="right">1</td>
        </tr>
        <tr>
            <td>Позиционирование HDD</td>
            <td align="right">10 000 000</td>
            <td align="right">10 000</td>
            <td align="right">10</td>
        </tr>
        <tr style="font-weight: bold">
            <td>Чтение 1Мб из HDD (последовательный доступ)</td>
            <td align="right">20 000 000</td>
            <td align="right">20 000</td>
            <td align="right">20</td>
        </tr>
        <tr>
            <td>Round trip между США и Нидерландами</td>
            <td align="right">150 000 000</td>
            <td align="right">150 000</td>
            <td align="right">150</td>
        </tr>
        </tbody>
    </table>
    <a href="https://gist.github.com/jboner/2841832">https://gist.github.com/jboner/2841832</a>
</section>

<section class="slide">
    <h2>Задача курса</h2>
    <img src="challenge.png" style="position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>Проектирование реляционных баз данных.</li>
        <li>Язык запросов SQL.</li>
        <li>Оптимизация запросов и схем данных.</li>
        <li>High-Load и Big Data.</li>
        <li>Администрирование и настройка серверов БД.</li>
        <li>NoSQL и его использование в WEB.</li>
    </ul>
</section>

<section class="slide">
    <h2>Проектирование и диаграммы</h2>
    <img src="uml.jpg" style="float: right"/>
    <ul>
        <li>Нормализация</li>
        <li>DDL</li>
    </ul>
</section>

<section class="slide">
    <h2>SQL</h2>
    <img src="../common/joins.svg" style="float: right; width: 60%"/>
    <ul>
        <li>CRUD</li>
        <li>Транзакции</li>
        <li>Хранимые процедуры</li>
        <li>Триггеры</li>
    </ul>
</section>

<section class="slide">
    <h2>Оптимизация</h2>
    <blockquote style="float: right; width: 50%">“Ну и запросы у вас” - сказала база данных и повисла.</blockquote>
    <img src="../common/postgresql.svg" style="width: 30%; position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>EXPLAIN</li>
        <li>Протоколирование</li>
        <li>Индексы</li>
        <li>Денормализация</li>
    </ul>
</section>

<section class="slide">
    <h2>Администрирование</h2>
    <figure style="float: right; width: 50%">
        <blockquote>На моей работе самая страшная фраза это: “ребята, за какую дату у нас есть бэкап базы данных?”
        </blockquote>
        <figcaption>© bash.im</figcaption>
    </figure>
    <img src="injection.jpg" style="width: 220px; position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>Конфигурирование</li>
        <li>Репликация</li>
        <li>Резервное копирование</li>
        <li>Пользователи и права</li>
        <li>SQL-injections</li>
    </ul>
</section>

<section class="slide">
    <h2>High-Load и Big Data</h2>
    <img src="highload.jpg" style="position: absolute; bottom: 0px; right: 50px; z-index: -1"/>
    <ul>
        <li>Обзор проблем и подходов к их решению</li>
        <li>Репликация</li>
        <li>Шардирование</li>
        <li>Особенности архитектуры</li>
    </ul>
</section>

<section class="slide">
    <h2>Кратенькая история</h2>
    <ul class="compact" style="font-size: 85%">
        <li>3600 до н.э. - глиняные таблички у древних шумеров;</li>
        <li>1966 г. - появление MUMPS;</li>
        <li>1968 г. - первая промышленная СУБД система IMS фирмы IBM;</li>
        <li>1972 г. - компания IBM начала исследовательский проект по разработке РСУБД;</li>
        <li>1979 г. - выход первой РСУБД Oracle;</li>
        <li>1980 г. - появление dBase II;</li>
        <li>1981 г. - появление IBM PC;</li>
        <li>1982 г. - выход DB2 фирмы IBM;</li>
        <li>1993 г. - выход Intel Pentium, Seagate Medalist 425xe 428.1MB HDD;</li>
        <li>1994 г. - выход Oracle для PC;</li>
        <li>1995 г. - появление MySQL;</li>
        <li>1996 г. - появление PostgreSQL;</li>
        <li>2005 г. - появление Hadoop;</li>
        <li>2009 г. - появление MongoDB.</li>
    </ul>
    <img src="floppy.jpg" style="position: absolute; width: 220px; bottom: 50px; right: 50px; z-index: -1"/>
</section>

<section class="slide">
    <h2>Реляционные БД</h2>
    <figure>
        <blockquote>… многие отдали предпочтение реляционным системам баз данных, поскольку используемый в них
            стандартизованный язык SQL открывал возможности безболезненного перехода от одной СУБД к другой. Хотя
            воспользовались ими на практике только единицы, мысль о возможной смене поставщика СУБД, не связанной со
            сколько-нибудь ощутимыми затратами, согревала всех.
        </blockquote>
        <figcaption>Мартин Фаулер</figcaption>
    </figure>
    <ul class="next compact">
        <li>Поддержка нескольких СУБД может быть полезна для тестирования;</li>
        <li>Стандарты позволяют использовать чужие наработки, например системы отчетов;</li>
        <li>Аналитики часто знают SQL.</li>
    </ul>
</section>

<section class="slide">
    <h2>NoSQL</h2>
    <img src="nosql-02.png" style="position: absolute; right: 100px; width: 250px"/>
    <img src="nosql-01.png" style="position: absolute; bottom: 50px; right: 50px; width: 350px"/>
    <ul>
        <li>Концепция Map-Reduce</li>
        <li>Краткий обзор существующих решений</li>
        <li>Tarantool</li>
    </ul>
</section>

<section class="slide">
    <h2>Литература</h2>
    <img src="book-01.jpg"
         style="position: absolute; bottom: 50px; right: 50px; height: 200px; border: 1px solid gray"/>
    <ul class="compact">
        <li>Дейт К. Дж. Введение в системы баз данных</li>
        <li><a href="https://postgrespro.ru/education/books">https://postgrespro.ru/education/books</a></li>
        <li><a href="https://www.postgresql.org/docs/">https://www.postgresql.org/docs/</a></li>
        <li><a href="https://postgrespro.ru/docs/postgresql/current/index">https://postgrespro.ru/docs/postgresql/current/index</a></li>
        <li><a href="https://use-the-index-luke.com/">https://use-the-index-luke.com/</a></li>
    </ul>
</section>

<section class="slide">
    <h2>Определение БД</h2>
    <dl>
        <dt>База данных (БД)</dt>
        <dd>Это взаимосвязанная информация (данные) об объектах, которая организованна специальным образом и хранится на
            каком-либо носителе.
        </dd>
    </dl>
    <img src="brick-02.jpg" style="float: right; width: 49%"/>
    <img src="brick-01.jpg" style="width: 49%"/>
</section>

<section class="slide">
    <h2>Реляционная модель данных</h2>
    <style>
.rel td {
	background: none;
}
.rel .vertical-text {
	position: absolute;
	margin-top: -20pt;
	margin-left: -15pt;
	transform: rotate(-90deg);
	transform-origin: left top 0;
}
.rel .note {
	vertical-align: middle;
	font-style: italic;
	background: none !important;
	border-top: 1px dashed black;
	border-bottom: 1px dashed black;
}
.rel .vnote {
	text-align: center;
	font-style: italic;
	background: none !important;
	border-left: 1px dashed black;
	border-right: 1px dashed black;
}
.rel .blank {
	background: none !important;
}
.rel .data td:not(.note):not(.blank) {
	white-space: nowrap;
	border: 1px solid black;
}
.rel .attr td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-weight: bold;
	border: 1px solid black;
}
.rel .domain td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-style: italic;
	border: 1px solid black;
}
.rel .type td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-style: italic;
	border: 1px solid black;
	background: #ccf !important;
}
.rel .data td.int {
	text-align: right;
}
.rel td.int {
	background: #ccc !important;
}
.rel td.str {
	background: #cfc !important;
}
    </style>
    <table class="rel classic">
        <tr class="type">
            <td class="blank"></td>
            <td>Целое</td>
            <td colspan="2">Строка</td>
            <td colspan="2">Целое</td>
            <td class="note">Типы данных</td>
        </tr>
        <tr class="domain">
            <td class="blank"></td>
            <td class="int">номер</td>
            <td class="str">имя</td>
            <td class="str">должность</td>
            <td class="int" colspan="2">деньги</td>
            <td class="note">Домены</td>
        </tr>
        <tr class="attr">
            <td rowspan="4" class="note" style="width: 30pt; vertical-align: bottom;">
                <div class="vertical-text">Отношение</div>
            </td>
            <td class="int">Табельный номер</td>
            <td class="str">Имя</td>
            <td class="str">Должность</td>
            <td class="int">Оклад</td>
            <td class="int">Премия</td>
            <td class="note">Аттрибуты</td>
        </tr>
        <tr class="data">
            <td class="int">2934</td>
            <td class="str">Иванов</td>
            <td class="str">Инженер</td>
            <td class="int">112</td>
            <td class="int">40</td>
            <td rowspan="3" class="note">Кортежи</td>
        </tr>
        <tr class="data">
            <td class="int">2935</td>
            <td class="str">Петров</td>
            <td class="str">Вед. Инженер</td>
            <td class="int">144</td>
            <td class="int">50</td>
        </tr>
        <tr class="data">
            <td class="int">2936</td>
            <td class="str">Сидоров</td>
            <td class="str">Бухгалтер</td>
            <td class="int">92</td>
            <td class="int">35</td>
        </tr>
        <tr>
            <td class="blank"></td>
            <td class="vnote">Ключ</td>
            <td colspan="5"></td>
        </tr>
    </table>
</section>

<section class="slide">
    <h2>Терминология</h2>
    <dl>
        <dt>Домен</dt>
        <dd>Тип данных, то есть допустимое множество значений.</dd>
        <dt>Кортеж</dt>
        <dd>Множество пар {имя атрибута, значение}, которое содержит одно вхождение каждого имени атрибута,
            принадлежащего схеме отношения.
        </dd>
        <dt>Отношение</dt>
        <dd>Множество кортежей (не упорядоченное).</dd>
        <dt>Целостность базы данных</dt>
        <dd>Соответствие имеющейся в базе данных информации её внутренней логике, структуре и всем явно заданным
            правилам.
        </dd>
    </dl>
</section>

<section class="slide">
    <h2>Реляционная модель данных</h2>
    <div style="font-size: 80%">
        <dl>
            <dt>Реляционная модель данных (РМД)</dt>
            <dd>Логическая модель данных, прикладная теория построения баз данных, которая является приложением к
                задачам обработки данных таких разделов математики как теории множеств и логика первого порядка.
            </dd>
        </dl>

        <p>Реляционная модель данных включает следующие компоненты:</p>
        <dl>
            <dt>Структурный аспект (составляющая)</dt>
            <dd>Данные в базе данных представляют собой набор отношений.</dd>
            <dt>Аспект (составляющая) целостности</dt>
            <dd>Отношения (таблицы) отвечают определенным условиям целостности. РМД поддерживает декларативные
                ограничения целостности уровня домена (типа данных), уровня отношения и уровня базы данных.
            </dd>
            <dt>Аспект (составляющая) обработки (манипулирования)</dt>
            <dd>РМД поддерживает операторы манипулирования отношениями (реляционная алгебра, реляционное исчисление).
            </dd>
        </dl>
    </div>
</section>

<section class="slide">
    <h2>Реляционная алгебра</h2>
    <figure style="float: right">
        <img src="ted.jpg" width="260"/>
        <figcaption>Эдгар Франк «Тед» Кодд</figcaption>
    </figure>
    <ul>
        <li>Выборка</li>
        <li>Проекция</li>
        <li>Объединение</li>
        <li>Пересечение</li>
        <li>Разность</li>
        <li>Произведение</li>
        <li>Деление</li>
        <li>Соединение</li>
    </ul>
</section>

<section class="slide">
    <h2>Выборка (A WHERE c)</h2>
    <h3>Персоны</h3>
    <table class="classic bordered" style="font-size: 75%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Donald</td>
            <td>29</td>
            <td>70</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <h3 class="math">`sigma_("Возраст" >= 34)("Персоны")`</h3>
    <table class="classic bordered" style="font-size: 75%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT * FROM "Персоны" WHERE "Возраст" >= 34</code></pre>
</section>

<section class="slide">
    <h2>Проекция (PROJECT A {x, y, …, z})</h2>
    <h3>Персоны</h3>
    <table class="classic bordered" style="font-size: 75%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Donald</td>
            <td>29</td>
            <td>70</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <h3 class="math">`Pi_("Возраст", "Вес")("Персоны")`</h3>
    <table class="classic bordered" style="font-size: 75%">
        <thead>
        <tr>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>29</td>
            <td>70</td>
        </tr>
        <tr>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT DISTINCT "Возраст", "Вес" FROM "Персоны"</code></pre>
</section>

<section class="slide">
    <h2>Объединение (A UNION B)</h2>
    <img src="union.png" style="position: absolute; bottom: 120px; right: 100px" width="250px"/>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Персоны</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Harry</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Helena</td>
                    <td>54</td>
                    <td>54</td>
                </tr>
                <tr>
                    <td>Peter</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Персонажи</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Daffy</td>
                    <td>24</td>
                    <td>19</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Scrooge</td>
                    <td>81</td>
                    <td>27</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="math">`"Персоны" uu "Персонажи"`</h3>
    <table class="classic bordered" style="font-size: 60%; width: 50%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Donald</td>
            <td>29</td>
            <td>70</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Daffy</td>
            <td>24</td>
            <td>19</td>
        </tr>
        <tr>
            <td>Scrooge</td>
            <td>81</td>
            <td>27</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT * FROM "Персоны" UNION SELECT * FROM "Персонажи"</code></pre>
</section>

<section class="slide">
    <h2>Пересечение (A INTERSECT B)</h2>
    <img src="intersect.png" style="position: absolute; bottom: 50px; right: 100px" width="250px"/>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Персоны</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Harry</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Helena</td>
                    <td>54</td>
                    <td>54</td>
                </tr>
                <tr>
                    <td>Peter</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Персонажи</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Daffy</td>
                    <td>24</td>
                    <td>19</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Scrooge</td>
                    <td>81</td>
                    <td>27</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="math">`"Персоны" nn "Персонажи"`</h3>
    <table class="classic bordered" style="font-size: 60%; width: 50%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Donald</td>
            <td>29</td>
            <td>70</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT * FROM "Персоны"
NATURAL JOIN "Персонажи"</code></pre>
</section>

<section class="slide">
    <h2>Разность (A MINUS B)</h2>
    <img src="minus.png" style="position: absolute; bottom: 50px; right: 100px" width="250px"/>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Персоны</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Harry</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Helena</td>
                    <td>54</td>
                    <td>54</td>
                </tr>
                <tr>
                    <td>Peter</td>
                    <td>34</td>
                    <td>80</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Персонажи</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Имя</th>
                    <th>Возраст</th>
                    <th>Вес</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Daffy</td>
                    <td>24</td>
                    <td>19</td>
                </tr>
                <tr>
                    <td>Donald</td>
                    <td>29</td>
                    <td>70</td>
                </tr>
                <tr>
                    <td>Scrooge</td>
                    <td>81</td>
                    <td>27</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="math">`"Персоны" \\ "Персонажи"`</h3>
    <table class="classic bordered" style="font-size: 60%; width: 50%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT * FROM "Персоны"
NATURAL LEFT JOIN "Персонажи"
WHERE "Персонажи" IS NULL</code></pre>
</section>

<section class="slide">
    <h2>Произведение (A TIMES B)</h2>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Мультфильмы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Код_Мульта</th>
                    <th>Название_Мульта</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Family Guy</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Duck Tales</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Каналы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Код_Канала</th>
                    <th>Название_Канала</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>СТС</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>2x2</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="math">`"Мультфильмы" xx "Каналы"`</h3>
    <table class="classic bordered" style="font-size: 60%">
        <thead>
        <tr>
            <th>Код_Мульта</th>
            <th>Название_Мульта</th>
            <th>Код_Канала</th>
            <th>Название_Канала</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>The Simpsons</td>
            <td>1</td>
            <td>СТС</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Family Guy</td>
            <td>1</td>
            <td>СТС</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Duck Tales</td>
            <td>1</td>
            <td>СТС</td>
        </tr>
        <tr>
            <td>1</td>
            <td>The Simpsons</td>
            <td>2</td>
            <td>2x2</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Family Guy</td>
            <td>2</td>
            <td>2x2</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Duck Tales</td>
            <td>2</td>
            <td>2x2</td>
        </tr>
        </tbody>
    </table>
    <div style="display: table-cell">
        <pre class="next"><code>SELECT * FROM "Персоны", "Персонажи"</code></pre>
    </div>
</section>

<section class="slide">
    <h2>Деление (A DIVIDEBY B)</h2>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Мультфильмы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th width="110px">Код_Мульта</th>
                    <th width="230px">Название_Мульта</th>
                    <th>Название_Канала</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                    <td>RenTV</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                    <td>2x2</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                    <td>СТС</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Family Guy</td>
                    <td>RenTV</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Family Guy</td>
                    <td>2x2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Duck Tales</td>
                    <td>СТС</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Duck Tales</td>
                    <td>2x2</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Каналы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Название_Канала</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>RenTV</td>
                </tr>
                <tr>
                    <td>2x2</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 40px">
            <h3 class="math">`"Мультфильмы" -: "Каналы"`</h3>
            <table class="classic bordered" style="font-size: 60%; width: auto">
                <thead>
                <tr>
                    <th width="110px">Код_Мульта</th>
                    <th width="230px">Название_Мульта</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Family Guy</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <pre class="next" style="font-size: 60%"><code>SELECT "Код_Мульта", "Название_Мульта"
FROM "Мультфильмы"
JOIN "Каналы" USING ("Название_Канала")
GROUP BY "Код_Мульта", "Название_Мульта"
HAVING COUNT(DISTINCT "Название_Канала") = (
    SELECT COUNT(DISTINCT "Название_Канала") FROM "Каналы"
)</code></pre>
        </div>
    </div>
</section>

<section class="slide">
    <h2>Соединение ((A TIMES B) WHERE P)</h2>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>Мультфильмы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Код_Мульта</th>
                    <th>Название_Мульта</th>
                    <th>Название_Канала</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>The Simpsons</td>
                    <td>2x2</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Family Guy</td>
                    <td>2x2</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Duck Tales</td>
                    <td>RenTV</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <h3>Каналы</h3>
            <table class="classic bordered" style="font-size: 60%">
                <thead>
                <tr>
                    <th>Код_Канала</th>
                    <th>Частота</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>RenTV</td>
                    <td>3.1415</td>
                </tr>
                <tr>
                    <td>2x2</td>
                    <td>783.25</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3 class="math">`"Мультфильмы" ⋈ "Каналы"`</h3>
    <table class="classic bordered" style="font-size: 60%">
        <thead>
        <tr>
            <th>Код_Мульта</th>
            <th>Название_Мульта</th>
            <th>Название_Канала</th>
            <th>Код_Канала</th>
            <th>Частота</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>The Simpsons</td>
            <td>2x2</td>
            <td>2x2</td>
            <td>783.25</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Family Guy</td>
            <td>2x2</td>
            <td>2x2</td>
            <td>783.25</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Duck Tales</td>
            <td>RenTV</td>
            <td>RenTV</td>
            <td>3.1415</td>
        </tr>
        </tbody>
    </table>
    <pre class="next"><code>SELECT *
FROM "Мультфильмы"
JOIN "Каналы" ON ("Название_Канала" = "Код_Канала")
</code></pre>
</section>


<section class="slide">
    <h2>SQL</h2>
</section>
<!-- 
<section class="slide">
    <h2>Первичный ключ</h2>
    <dl style="font-size: 75%">
        <dt>Потенциальный ключ</dt>
        <dd><p>В реляционной модели данных — подмножество атрибутов отношения, удовлетворяющее требованиям уникальности
            и минимальности (несократимости).</p>
            <p><dfn>Уникальность</dfn> означает, что не существует двух кортежей данного отношения, в которых значения
                этого подмножества атрибутов совпадают (равны).</p>
            <p><dfn>Минимальность</dfn> (несократимость) означает, что в составе потенциального ключа отсутствует
                меньшее подмножество атрибутов, удовлетворяющее условию уникальности. Иными словами, если из
                потенциального ключа убрать любой атрибут, он утратит свойство уникальности.</p></dd>
        <dt>Первичный ключ (англ. primary key)</dt>
        <dd><p>В реляционной модели данных один из потенциальных ключей отношения, выбранный в качестве основного ключа
            (или ключа по умолчанию).</p>
            <p>Если в отношении имеется единственный потенциальный ключ, он является и первичным ключом. Если
                потенциальных ключей несколько, один из них выбирается в качестве первичного, а другие называют
                «альтернативными».</p></dd>
    </dl>
</section>

<section class="slide">
    <h2>Суррогатный ключ</h2>
    <p style="font-size: 80%">Даже при наличии естественного ключа добавление суррогатного в большинстве случаев
        оправдано.
    </p>
    <table class="classic bordered" style="font-size: 70%">
        <thead>
        <tr>
            <th>UserID</th>
            <th>E-Mail</th>
            <th>Пароль</th>
            <th>Имя</th>
            <th>Дата</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>12</td>
            <td>tolstoy@mail.ru</td>
            <td>*****</td>
            <td>Толстой Л.Н.</td>
            <td>09.09.1828</td>
        </tr>
        <tr>
            <td>48</td>
            <td>saltykov@inbox.ru</td>
            <td>*****</td>
            <td>Николай Щедрин</td>
            <td>27.01.1826</td>
        </tr>
        <tr>
            <td>543</td>
            <td>fmd@mail.ru</td>
            <td>*****</td>
            <td>Федор Михайлович</td>
            <td>11.11.1821</td>
        </tr>
        <tr>
            <td>5</td>
            <td>pushkin@mail.ru</td>
            <td>*****</td>
            <td>Пушкин А.С.</td>
            <td>06.06.1799</td>
        </tr>
        </tbody>
    </table>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <table class="classic bordered" style="font-size: 70%">
                <thead>
                <tr>
                    <th>UserID</th>
                    <th>Привилегии</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>12</td>
                    <td>Админ</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Модератор</td>
                </tr>
                <tr>
                    <td>48</td>
                    <td>Модератор</td>
                </tr>
                <tr>
                    <td>543</td>
                    <td>Игрок</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Админ</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell">
            <table class="classic bordered" style="font-size: 70%">
                <thead>
                <tr>
                    <th>UserID</th>
                    <th>Разделы</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>12</td>
                    <td>Новости</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Флуд</td>
                </tr>
                <tr>
                    <td>48</td>
                    <td>Флуд</td>
                </tr>
                <tr>
                    <td>48</td>
                    <td>Юмор</td>
                </tr>
                <tr>
                    <td>543</td>
                    <td>E-Mail</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Поэзия</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<section class="slide">
    <h2>Пример схемы базы данных (кортежи)</h2>
    <div style="display: table; width: 100%">
        <div style="display: table-cell; padding-right: 10px">
            <h3>country</h3>
            <table class="classic bordered" style="font-size: 80%">
                <thead>
                <tr>
                    <th>id</th>
                    <th>name</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>0</td>
                    <td>Россия</td>
                </tr>
                <tr>
                    <td>42</td>
                    <td>Вьетнам</td>
                </tr>
                <tr>
                    <td>55</td>
                    <td>Гондурас</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div style="display: table-cell; padding-right: 10px">
            <h3>region</h3>
            <table class="classic bordered" style="font-size: 80%">
                <thead>
                <tr>
                    <th>id</th>
                    <th>country_id</th>
                    <th>name</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>0</td>
                    <td>0</td>
                    <td>Москва и Московская обл.</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>0</td>
                    <td>Санкт-Петербург и область</td>
                </tr>
                <tr>
                    <td>395</td>
                    <td>55</td>
                    <td>Тегусигальпа</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <h3>city</h3>
    <table class="classic bordered" style="font-size: 80%">
        <thead>
        <tr>
            <th>id</th>
            <th>region_id</th>
            <th>name</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>0</td>
            <td>Москва</td>
        </tr>
        <tr>
            <td>42</td>
            <td>0</td>
            <td>Жилево</td>
        </tr>
        <tr>
            <td>173</td>
            <td>1</td>
            <td>Санкт-Петербург</td>
        </tr>
        <tr>
            <td>6165</td>
            <td>395</td>
            <td>Тегусигальпа</td>
        </tr>
        </tbody>
    </table>
    <footer class="footer">Источник примера: https://github.com/Legostaev/contry_region_city</footer>
</section>

<section class="slide">
    <h2>Пример схемы базы данных (ER-модель)</h2>
    <img src="scheme.svg" style="width: 100%"/>
</section>

<section class="slide">
    <h2>Пример схемы базы данных (DDL)</h2>
    <pre class="sql" style="font-size: 75%"><code>
CREATE TABLE country (
  id bigserial NOT NULL PRIMARY KEY,
  name varchar(128) NOT NULL
);

CREATE TABLE region (
  id bigserial NOT NULL PRIMARY KEY,
  country_id bigint NOT NULL,
  name varchar(128) NOT NULL,
  FOREIGN KEY (country_id) REFERENCES country (id)
);

CREATE TABLE city (
  id bigserial NOT NULL PRIMARY KEY,
  region_id bigint NOT NULL,
  name varchar(128) NOT NULL,
  FOREIGN KEY (region_id) REFERENCES region (id)
);
</code></pre>
</section> -->

	
<section class="slide white" style="padding: 0" id="contacts">
    <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="-10 -10 895 645"
            width="100%"
            height="100%"
            style="background-image: url(../park.mail.ru/img/back.png)"
            version="1.1">
        <image
                xlink:href="../park.mail.ru/img/blocks.svg"
                width="718"
                height="548"
                preserveAspectRatio="none"
                x="157"
                y="67"/>
		<image
                xlink:href="../park.mail.ru/img/logo.svg"
                width="297"
                height="130"
                preserveAspectRatio="none"
                x="0"
                y="0"/>
        <g style="font-family: 'PF Isotext Pro', sans-serif; font-size: 32px; font-stretch: semi-condensed">
            <foreignObject x="177" y="204" width="514" height="202">
                <div xmlns="http://www.w3.org/1999/xhtml"
                     style="height: 100%; width: 100%; display: table; text-align: center">
                    <div style="vertical-align: middle; display: table-cell; padding-bottom: 20px; font-weight: bold">
                        Стрелков Никита
                        
                        
                        <div>E-mail: nikita.strelkov@gmail.com</div>
                        
                    </div>
                </div>
            </foreignObject>
            <foreignObject x="534" y="534" width="326" height="65">
                <div xmlns="http://www.w3.org/1999/xhtml"
                     style="height: 100%; width: 100%; display: table; text-align: center; font-size: 28px; font-weight: bold">
                    <div style="vertical-align: middle; display: table-cell">
                        Спасибо за внимание!
                    </div>
                </div>
            </foreignObject>
        <g>
    </svg>
</section>

	<div class="progress"></div>
	<script src="../js/common.js"></script>
	<script src="../shower/shower.min.js"></script>
	<script src="../highlight.js/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	


	<script src="../mathjax/MathJax.js?config=AM_HTMLorMML-full"></script>
	<script>
MathJax.Hub.Config({
	asciimath2jax: {
		inlineMath: [['$','$'],['\\(','\\)']],
		processClass: "math",
		ignoreClass: "no-math"
	},
	root: "..\/mathjax/"
});
	</script>


</body>
</html>
